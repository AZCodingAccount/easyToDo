<script setup>
import { computed } from "vue";
import { useRoute } from "vue-router";

const route = useRoute();
// 实现高亮并适配二级高亮导航栏
const currentRouteKey = computed(() => {
  if (route.path.startsWith("/settings")) {
    return "/settings";
  }
  return route.path;
});
</script>
<template>
  <div class="common-layout">
    <a-layout>
      <!-- 侧边栏 -->
      <a-layout-sider>
        <a-layout>
          <a-layout-header class="header">
            iTime 让每一秒都刚刚好
          </a-layout-header>
          <a-layout-content
            ><a-menu :selectedKeys="[currentRouteKey]">
              <router-link to="/plain/todo">
                <a-menu-item
                  key="/plain/todo"
                  :class="{ highlight: currentRouteKey === '/plain/todo' }"
                >
                  <template #icon
                    ><svg
                      t="1706536569624"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="13647"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M758.4 428.8c0-14.4-14.4-27.2-27.2-27.2H238.4c-14.4 0-27.2 14.4-27.2 27.2s14.4 27.2 27.2 27.2h491.2c14.4 1.6 28.8-12.8 28.8-27.2zM400 566.4h-155.2c-16 0-30.4 11.2-30.4 27.2 0 14.4 14.4 27.2 30.4 27.2H400c16 0 30.4-14.4 30.4-27.2 0-16-14.4-27.2-30.4-27.2z m0 166.4h-155.2c-16 0-30.4 11.2-30.4 27.2 0 14.4 14.4 27.2 30.4 27.2H400c16 0 30.4-14.4 30.4-27.2 0-16-14.4-27.2-30.4-27.2z m329.6-496H238.4c-14.4 0-27.2 14.4-27.2 27.2 0 14.4 14.4 27.2 27.2 27.2h491.2c14.4 0 27.2-14.4 27.2-27.2 1.6-14.4-12.8-27.2-27.2-27.2zM484.8 953.6H102.4V70.4h764.8v412.8c0 16 11.2 27.2 27.2 27.2s27.2-11.2 27.2-27.2V43.2c0-14.4-14.4-27.2-27.2-27.2H75.2C62.4 16 48 30.4 48 43.2v937.6c0 12.8 14.4 27.2 27.2 27.2h409.6c16 0 27.2-11.2 27.2-27.2s-11.2-27.2-27.2-27.2z m273.6-387.2c-120 0-217.6 99.2-217.6 220.8S636.8 1008 758.4 1008 976 908.8 976 787.2s-97.6-220.8-217.6-220.8z m0 387.2c-89.6 0-163.2-73.6-163.2-164.8S668.8 624 758.4 624s163.2 73.6 163.2 164.8S848 953.6 758.4 953.6z m81.6-193.6h-54.4v-54.4c0-14.4-14.4-27.2-27.2-27.2-14.4 0-27.2 14.4-27.2 27.2v83.2c0 14.4 14.4 27.2 27.2 27.2h81.6c14.4 0 27.2-14.4 27.2-27.2 0-14.4-14.4-28.8-27.2-28.8z"
                        fill="#2C2C2C"
                        p-id="13648"
                      ></path></svg
                  ></template>
                  标准待办
                </a-menu-item>
              </router-link>
              <router-link to="/custom/todo">
                <a-menu-item
                  key="/custom/todo"
                  :class="{ highlight: currentRouteKey === '/custom/todo' }"
                >
                  <template #icon>
                    <svg
                      t="1706536719262"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="20951"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M911.275224 233.685939 825.637477 319.323686 704.59016 198.276368 790.227906 112.638622C816.453389 86.413139 859.427341 86.80945 886.152521 113.551861L910.379215 137.761325C937.104395 164.503736 937.500707 207.460456 911.275224 233.685939ZM293.012048 609.888941 414.059366 730.919028 232.479774 791.468533 293.012048 609.888941ZM801.393552 343.567611 438.28606 706.692334 317.238743 585.645016 680.363465 222.520293 801.393552 343.567611ZM179.666958 189.953826C151.166992 189.953826 127.974154 213.146665 127.974154 241.646631L127.974154 844.798277C127.974154 873.298243 151.166992 896.491082 179.666958 896.491082L782.818604 896.491082C811.31857 896.491082 834.511409 873.298243 834.511409 844.798277L834.511409 360.540082 868.973279 326.078212 868.973279 844.798277C868.973279 892.303964 830.324292 930.952951 782.818604 930.952951L179.666958 930.952951C132.161271 930.952951 93.512284 892.303964 93.512284 844.798277L93.512284 241.646631C93.512284 194.140944 132.161271 155.491957 179.666958 155.491957L698.387023 155.491957 663.925153 189.953826 179.666958 189.953826Z"
                        p-id="20952"
                      ></path>
                    </svg>
                  </template>
                  自定义待办
                </a-menu-item>
              </router-link>
              <router-link to="/add/customtodo">
                <a-menu-item
                  key="/add/customtodo"
                  :class="{ highlight: currentRouteKey === '/add/customtodo' }"
                >
                  <template #icon>
                    <svg
                      t="1706537137347"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="33819"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M856.3 128H167.7c-21.9 0-39.7 17.8-39.7 39.7v688.7c0 21.9 17.8 39.7 39.7 39.7h688.7c21.9 0 39.7-17.8 39.7-39.7V167.7c-0.1-21.9-17.9-39.7-39.8-39.7z m-10.9 717.4H178.6V178.6h666.8v666.8z"
                        p-id="33820"
                      ></path>
                      <path
                        d="M356.4 537.3h130.3v130.3c0 14 11.3 25.3 25.3 25.3s25.3-11.3 25.3-25.3V537.3h130.3c14 0 25.3-11.3 25.3-25.3s-11.3-25.3-25.3-25.3H537.3V356.4c0-14-11.3-25.3-25.3-25.3s-25.3 11.3-25.3 25.3v130.3H356.4c-14 0-25.3 11.3-25.3 25.3s11.3 25.3 25.3 25.3z"
                        p-id="33821"
                      ></path>
                    </svg>
                  </template>
                  添加自定义待办
                </a-menu-item>
              </router-link>
              <a-divider margin="10px" />
              <router-link to="/timer">
                <a-menu-item
                  key="/timer"
                  :class="{ highlight: currentRouteKey === '/timer' }"
                  ><template #icon
                    ><svg
                      t="1706536845495"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="26608"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M897.8 407.1c-15.5-42.9-37.9-82.7-66.7-118.3-0.2-0.2-0.4-0.4-0.5-0.6-3.4-3.9-7.9-11.9-0.3-21.8 13.2-15.9 18.3-22.3 18.5-22.6 8.3-10.4 6.6-25.5-3.8-33.7-10.4-8.3-25.5-6.6-33.7 3.8-0.1 0.1-5.2 6.5-18.1 22.1-0.1 0.1-0.2 0.3-0.4 0.4-20.1 25.4-19.5 58.6 1.2 82.9 25.3 31.4 45.1 66.4 58.7 104.1 14.1 39.2 21.3 80.3 21.3 122.4 0 96.4-37.5 187-105.7 255.2-68.2 68.2-158.8 105.7-255.2 105.7-96.4 0-187-37.5-255.2-105.7-68.2-68.2-105.7-158.8-105.7-255.2s37.5-187 105.7-255.2c68.2-68.2 158.8-105.7 255.2-105.7 80.7 0 144.9 20.4 171.6 54.6 10.5 13.5 14 27.8 10.3 42.6-3.2 12.9 4.6 25.9 17.5 29.1 12.9 3.2 25.9-4.6 29.1-17.5 7.3-29 0.5-58.8-19-83.8-17.6-22.5-45.4-41-80.4-53.5-36.4-13-79.8-19.6-129.1-19.6-55.2 0-108.7 10.8-159.2 32.1-48.7 20.6-92.4 50.1-130 87.6-37.5 37.5-67 81.3-87.6 130-21.3 50.4-32.1 104-32.1 159.2s10.8 108.7 32.1 159.2c20.6 48.7 50.1 92.4 87.6 130 37.5 37.5 81.3 67 130 87.6 50.4 21.3 104 32.1 159.2 32.1s108.7-10.8 159.2-32.1c48.7-20.6 92.4-50.1 130-87.6 37.5-37.5 67-81.3 87.6-130 21.3-50.4 32.1-104 32.1-159.2-0.1-47.6-8.2-94.2-24.2-138.6z"
                        fill="#333333"
                        p-id="26609"
                      ></path>
                      <path
                        d="M512.6 392.3c-13.3 0-24 10.7-24 24v138.5c0 6.4 2.5 12.5 7 17l138.5 138.5c4.7 4.7 10.8 7 17 7 6.1 0 12.3-2.3 17-7 9.4-9.4 9.4-24.6 0-33.9L536.6 544.8V416.3c0-13.3-10.7-24-24-24zM416 115.2h192c13.3 0 24-10.7 24-24s-10.7-24-24-24H416c-13.3 0-24 10.7-24 24s10.8 24 24 24z"
                        fill="#333333"
                        p-id="26610"
                      ></path></svg
                  ></template>
                  倒计时
                </a-menu-item>
              </router-link>
              <router-link to="/pomodoro">
                <a-menu-item
                  key="/pomodoro"
                  :class="{ highlight: currentRouteKey === '/pomodoro' }"
                >
                  <template #icon>
                    <svg
                      t="1706536876837"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="27761"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M963.05566 345.393457c-34.433245-59.444739-83.5084-112.04244-142.458001-152.926613 3.805482-11.402299 2.23519-23.908046-4.272326-34.008842a39.5855 39.5855 0 0 0-29.198939-17.938108L617.888552 123.076923l-73.365164-105.421751c-7.398762-10.638373-19.55084-16.976127-32.509284-16.976127s-25.110522 6.337754-32.509283 16.976127L406.111363 123.076923 236.887668 140.505747A39.625111 39.625111 0 0 0 207.688729 158.443855a39.676039 39.676039 0 0 0-4.286473 34.008842C77.170603 279.724138 2.716138 415.179487 2.716138 560.311229c-0.04244 62.72679 13.849691 124.689655 40.671972 181.38992 25.916888 55.129973 62.924845 104.587091 110.005305 146.956676 46.769231 42.100796 101.177719 75.119363 161.683466 98.164456a559.214854 559.214854 0 0 0 393.846153 0c60.519894-23.030946 114.928382-56.06366 161.71176-98.164456 47.08046-42.369584 84.088417-91.826702 110.005305-146.956676A423.347834 423.347834 0 0 0 1021.283777 560.311229a429.629001 429.629001 0 0 0-58.228117-214.917772z m-530.786914-145.372237c11.473033-1.188329 21.856764-7.299735 28.44916-16.778072L511.999958 109.609195l51.239611 73.633953c6.592396 9.464191 16.976127 15.589744 28.44916 16.778072l80.580017 8.304156-47.278514 32.679045a39.601061 39.601061 0 0 0-15.971707 41.874447l14.458002 59.784262-97.655172-36.413793a39.633599 39.633599 0 0 0-27.671088 0l-97.655172 36.399646 14.458001-59.784262a39.601061 39.601061 0 0 0-15.971706-41.874447l-47.278515-32.679045 80.565871-8.290009zM817.570249 829.778957a434.642617 434.642617 0 0 1-136.94076 83.013262 480.025464 480.025464 0 0 1-337.457118 0 434.642617 434.642617 0 0 1-136.94076-83.013262C126.132584 757.545535 81.938065 661.842617 81.938065 560.311229c0-125.496021 68.923077-242.758621 184.615385-314.553492l65.018568 44.944297-25.563219 105.81786a39.619452 39.619452 0 0 0 52.34306 46.401415L511.999958 385.669319l153.676392 57.280283c13.72237 5.106985 29.142352 2.23519 40.106101-7.483643a39.58267 39.58267 0 0 0 12.222812-38.917772l-25.605659-105.81786 65.018568-44.93015c2.900088 1.79664 5.78603 3.621574 8.629531 5.488948 53.616269 35.083996 98.022989 81.343943 128.43855 133.842617 31.56145 54.507515 47.533156 113.471264 47.533156 175.221927 0.04244 101.488948-44.152078 197.191866-124.44916 269.425288z m0 0"
                        fill="#3A3A3A"
                        p-id="27762"
                      ></path>
                    </svg>
                  </template>
                  番茄钟
                </a-menu-item>
              </router-link>
              <a-divider margin="10px" />
              <router-link to="/settings">
                <a-menu-item
                  key="/settings"
                  :class="{ highlight: currentRouteKey === '/settings' }"
                >
                  <template #icon
                    ><svg
                      t="1706536957734"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="29961"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M361.106286 0.146286c18.432 0 36.425143 7.826286 48.201143 20.992 15.652571 17.408 65.243429 62.610286 105.325714 62.610285 39.789714 0 89.088-44.324571 104.667428-61.44a65.389714 65.389714 0 0 1 47.835429-20.48c8.777143 0 17.115429 1.682286 24.722286 5.193143l1.316571 0.658286 128 75.264 1.243429 0.950857a66.048 66.048 0 0 1 20.260571 77.092572c0 0.219429-11.556571 28.306286-11.556571 53.906285 0 77.677714 59.684571 140.946286 133.12 140.946286h4.388571c21.430857-0.512 38.912 19.382857 44.470857 50.322286 0.438857 2.486857 10.678857 60.489143 10.678857 106.276571 0 45.714286-10.24 103.789714-10.678857 106.203429-5.558857 31.012571-23.04 50.834286-44.470857 50.468571h-4.388571c-73.435429 0-133.12 63.195429-133.12 140.873143 0 25.6 11.483429 53.686857 11.629714 53.979429a65.974857 65.974857 0 0 1-20.333714 77.019428l-1.316572 0.950857-130.194285 76.141715-1.316572 0.658285a57.782857 57.782857 0 0 1-24.137143 5.12l-7.972571-0.512a63.926857 63.926857 0 0 1-40.448-21.357714c-15.945143-18.432-66.413714-66.56-107.739429-66.56-40.96 0-92.233143 48.347429-106.934857 65.316571a64.292571 64.292571 0 0 1-48.054857 21.430858 57.929143 57.929143 0 0 1-24.649143-5.266286l-1.316571-0.658286-125.586286-74.313143-1.243429-0.950857a66.121143 66.121143 0 0 1-20.187428-77.092571c0-0.219429 11.556571-28.306286 11.556571-53.906286 0-77.677714-59.684571-140.946286-133.12-140.946286H54.930286c-21.430857 0-38.546286-19.748571-44.032-50.395428-0.438857-2.413714-10.678857-60.489143-10.678857-106.203429s10.24-103.862857 10.678857-106.276571c5.558857-30.939429 23.04-50.907429 44.470857-50.322286h4.388571c73.435429 0 133.12-63.268571 133.12-140.946286 0-25.6-11.483429-53.686857-11.629714-53.979428a65.901714 65.901714 0 0 1 20.48-77.019429l1.243429-0.950857L335.433143 5.851429l1.462857-0.585143a58.514286 58.514286 0 0 1 24.210286-5.12z m4.900571 74.313143h-0.438857l-119.954286 70.363428c2.852571 7.168 15.798857 41.325714 15.798857 76.946286 0 106.788571-78.774857 194.267429-177.517714 199.753143-1.389714 8.411429-9.069714 55.588571-9.069714 90.916571 0 35.328 7.68 82.432 9.142857 90.843429 98.742857 5.485714 177.444571 92.964571 177.444571 199.753143 0 35.84-13.092571 70.217143-15.872 77.092571l113.590858 67.803429a7.899429 7.899429 0 0 0 4.022857-1.024c2.194286-2.413714 19.017143-21.577143 43.52-40.740572 36.425143-28.525714 71.021714-42.934857 102.838857-42.934857 32.182857 0 67.072 14.701714 103.643428 43.739429 24.576 19.529143 41.691429 39.058286 43.739429 41.545142 0.585143 0.365714 2.194286 1.024 3.876571 1.024h0.146286l117.76-69.485714a225.865143 225.865143 0 0 1-15.798857-77.019428c0-106.788571 78.701714-194.267429 177.444571-199.68 1.462857-8.411429 9.142857-55.588571 9.142858-90.916572 0-35.401143-7.68-82.505143-9.142858-90.916571-98.742857-5.485714-177.444571-92.891429-177.444571-199.68 0-35.84 13.019429-70.070857 15.872-77.092572l-115.858286-68.754285a9.289143 9.289143 0 0 0-4.973714 1.243428c-1.901714 2.194286-18.724571 20.333714-42.861714 38.4-35.693714 26.843429-69.485714 40.448-100.352 40.448-31.158857 0-65.170286-13.897143-101.156572-41.179428a334.994286 334.994286 0 0 1-43.081143-39.204572 8.850286 8.850286 0 0 0-4.461714-1.243428zM512 324.315429c97.718857 0 177.225143 84.187429 177.225143 187.684571 0 103.497143-79.506286 187.684571-177.225143 187.684571S334.774857 615.497143 334.774857 512c0-103.497143 79.506286-187.684571 177.225143-187.684571z m0 79.579428c-56.32 0-102.034286 48.493714-102.034286 108.105143S455.68 620.105143 512 620.105143c56.32 0 102.034286-48.493714 102.034286-108.105143S568.32 403.894857 512 403.894857z"
                        fill="#666666"
                        p-id="29962"
                      ></path></svg
                  ></template>
                  自定义设置
                </a-menu-item>
              </router-link>
              <router-link to="/about">
                <a-menu-item
                  key="/about"
                  :class="{ highlight: currentRouteKey === '/about' }"
                >
                  <template #icon
                    ><svg
                      t="1706536999715"
                      class="icon"
                      viewBox="0 0 1024 1024"
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      p-id="30957"
                      width="1em"
                      height="1em"
                    >
                      <path
                        d="M618 669.9c-89.6 77.4-62.5-58.4-58.4-77.4 4.1-19 62.4-135.8 19.7-155.4-42.8-19.7-174.5 77.4-174.5 77.4s-21.7 15.6-19.7 19.7c14.3 25.1 77.4-19.7 77.4-19.7s21.7-17.6 19.7 0c-19 76.5-32 154.3-38.7 232.8 9.5 51.6 91 29.9 154.8-38.7 63.8-68.5 19.7-38.7 19.7-38.7z m0 0"
                        p-id="30958"
                      ></path>
                      <path
                        d="M566 378c24.2 1.3 47.3-10.4 60.5-30.7 13.2-20.3 14.7-46.1 3.7-67.8-11-21.6-32.6-35.8-56.9-37.1-24.2-1.3-47.3 10.4-60.5 30.7-13.2 20.3-14.7 46.1-3.7 67.8 11 21.6 32.7 35.8 56.9 37.1z m0 0"
                        p-id="30959"
                      ></path>
                      <path
                        d="M884.8 853.9c87.3-93.3 135.9-216.4 135.8-344.2C1020.6 228.5 792.7 0.6 511.5 0.6 230.3 0.6 2.4 228.6 2.4 509.7c0 281.2 227.9 509.1 509.1 509.1h475.2c14.3 0.1 27.1-8.7 32.1-22 5-13.4 1.1-28.4-9.7-37.7L884.8 853.9zM511.5 951C267.8 951 70.2 753.4 70.2 509.7 70.2 266 267.7 68.5 511.4 68.5S952.6 266 952.6 509.7c0.4 122.1-50.3 238.8-139.8 321.8-7.1 7-10.7 16.8-9.9 26.7 0.8 9.9 5.9 19 14 24.9l80.8 67.9H511.5z m0 0"
                        p-id="30960"
                      ></path></svg
                  ></template>
                  关于
                </a-menu-item>
              </router-link>
            </a-menu></a-layout-content
          >
        </a-layout>
      </a-layout-sider>
      <!-- 内容部分 -->
      <a-layout-content class="content">
        <router-view></router-view>
      </a-layout-content>
    </a-layout>
  </div>
</template>
<style scoped>
/* 定义主样式 */
.common-layout {
  height: 100vh;
}
/* 定义头部字体样式 */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 1.5em;
  color: #333;
  font-weight: bold;
  font-size: 1em;
  font-family: "Kaiti", "Kaiti SC", "SimKai", "楷体", serif;
}
/* 自定义图标高亮*/
.highlight svg path {
  fill: rgb(57, 134, 253);
}
/* 定义内容距离顶部间距*/
.content {
  margin-top: 1.5em;
}

/* 隐藏溢出的东西 */
.common-layout :deep(.arco-layout-sider-children) {
  overflow: hidden;
}
.common-layout :deep(.arco-layout) {
  height: 100%;
}
</style>
